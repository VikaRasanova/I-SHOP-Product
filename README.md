# I-SHOP-Product
## Цель проекта
Разработать инфраструктура для приложения интернет-магазина, которая позволит совершать покупки онлайн, производить их оплату, сопровождать перемещение товаров между складами, контролировать остатки, формировать отчетность.

## Поддержка
Если у вас возникли сложности или вопросы по использованию пакета, создайте обсуждение в данном репозитории или напишите на электронную почту rasanova.v.a@gmail.com.

## API
Докуметация API для работы с проектом представлена в [файле](https://github.com/VikaRasanova/I-SHOP-Product/blob/main/API/Swagger) дополнительно ознакомится можно прейдя по сслыке: https://app.swaggerhub.com/apis/RASANOVAVIKTORYIA/I-SHOP-Product/1.0.0

## НФТ
### Цвета оформления сайта:
 - фон страниц сайта - лиловый;
 - кнопки на страницах - синие;
 - поля для ввода включая справочники должны иметь белый фон с фиолетовой окантовкой.  

### Языковые версии интерфейса:
 - русский;
 - английский.  

### Требования к загрузке главной страницы сайта
Должна осуществляться в течении 2 секунд с 18:00 до 22:00 и в выходные/праздничные дни. В течение 4 секунд в остальное время. 

### Доступность системы
 - с 18:00 до 22:00 и в выходные/праздничные дни - 99,5%
 - в остальное время - 99,2%.

### Требования к восстановлению системы после сбоя
Не более чем за 2,5 минуты.

### Разделы сайта:
 - “Бакалея”;
 - “Молочные продукты”;
 - “Мясные продукты”;
 - “Рыба и морепродукты”;
 - “Напитки”;
 - “Акционные товары”;
 - “Личный кабинет””
 - “Помощь”.

### Требования к отображению товаров на сайте
Система отображает товары раздела списком по умолчанию.
Возможные варианты отображения:
 - списком
 - таблицей

### Группировка товаров при отображении
Система группирует товары по разделам на основании категории указанной в карточке товара при его заведении в базе.
Пользователь может видеть весь перечень товаров, участвующих в акции на текущий период. 

### Регистрация
Регистрация в “Личном кабинете” осуществляется с использованием логина и пароля.  
Требования к логину: логин должен начинаться с буквы и состоять не менее чем из 6 символов и не более чем из 20.  
Требования к паролю: состоит более чем из 12 знаков, содержит в себе строчные и прописные буквы, цифры и символы.  
Все пароли в системе должны храниться в зашифрованном виде хэша.

### Расчеты
Расчет скидки осуществляется по каждому товару по формуле, с округлением до двух знаков после запятой:  
 - Скидка = Стоимость товара * Размер скидки в процентах
Стоимость товара со скидкой рассчитывается по формуле:
 - Стоимость товара со скидкой = Стоимость товара - Скидка
 - Общая стоимость товаров в корзине рассчитывается путем суммирования стоимости всех товаров в корзине без учета скидки.
 - Сумма скидки рассчитывается путем суммирования расчетных значений Скидка для товаров в корзине.   
Общая стоимость товаров в корзине с учетом скидки рассчитывается по формуле:
 - Стоимость товаров в корзине с учетом скидки = Общая стоимость товаров в корзине без учета скидки - Сумма скидки.  
Параметры Общая стоимость товара в корзине, Сумма скидки, Общая стоимость товаров с учетом скидки должны пересчитываться автоматически каждый раз при входе корзину исходя из действующего размера скидки действующей для пользователя на момент входа в корзину.   
Система должна хранить информацию о размере скидке доступной пользователю на момент расчета без сохранения истории размера скидок применяемых для пользователя ранее.

### Дисконт
 - Пользователь может ввести номер своей дисконтной карты при оформлении заказа и стоимость заказа будет автоматически пересчитана.
 - Номер введенной дисконтной карты должен состоять из цифр. Колличество введенных цифр = 9. 
 - Номер дисконтной карты должен быть привязан к ID-пользователя в момент оформления карты.
 - При вводе номера дисконтной карты система должна осуществлять сверку введенного номера карты с ID авторизованного пользователя. В случае если сверка не пройдена система должна под полем для ввода номера дисконтной карты выводить предупреждающее сообщение:
“Номер карты не зарегистрирован для данного пользователя”.

### Способы доставки
 - доставка курьером
 - самовывоз из пункта выдачи.
При вводе адреса доставки система должна проверить осуществляется ли доставка по указанному адресу согласно зарегистрированным в системе адресам.
Загрузка страницы сайта с выбором способа доставки должна осуществляться в течении 4 секунд с 18:00 до 22:00 и в выходные/праздничные дни. В течение 5 секунд в остальное время. 
При выборе способа доставки пользователь видит либо режим работы пункта выдачи, либо диапазоны времени, когда может приехать курьер с заказом.
Пункты выдачи группируются по населенным пунктам. 
Для способа доставки “Самовывоз из пункта выдачи” система должна выводить информацию о пункет выдачи:
 * пункта выдачи
 * адрес пункта выдачи
 * время пункта выдачи.
Предусмотрены доступные для выбора временные интеравлы доставки курьером:
 + в будние дни:
  1. с 9:00 до 15:00
  2. с 16:00 до 20:00
 + в выходные:
  1. с 9:00 до 12:00
  2. с 13:00 до 16:00
  3. с 17:00 до 22:00.  

## Описание Кafka
Описание требований к сообщениям предствалены в [файле](https://github.com/VikaRasanova/I-SHOP-Product/blob/main/Kafka/Requirements)

## Модель архитектуры C4
Модель C4 оступна по ссылке https://app.diagrams.net/#G1l3QEVEgV5hxUhYX8iLRSKOEG5_MTvGjn#%7B%22pageId%22%3A%22etEh2EP_2_HESVDKXk11%22%7D

## Физическая модель представлена на схеме:
![image](https://github.com/user-attachments/assets/361f0dfb-58df-43e4-b2ad-1dfc867360c6)
